<!DOCTYPE html><html lang="de"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Vokabeltrainer</title>
<style>
body{font-family:sans-serif;background:#f7f9fb;margin:0;padding:20px}
.app{max-width:900px;margin:auto;text-align:center}
h1{font-size:1.8rem;margin-bottom:1rem}
button,input,select{font-size:1rem;padding:8px 12px;border-radius:8px;border:1px solid #ccc;margin:5px}
button{cursor:pointer;background:#2980b9;color:#fff;border:none;transition:background .2s ease,transform .1s ease}
button:hover{background:#3498db;transform:translateY(-1px)}
.card{background:#fff;padding:20px;border-radius:16px;box-shadow:0 2px 6px rgba(0,0,0,.1);margin-top:20px;transition:background-color .4s ease}
.card.correct{background-color:#d4edda}
.card.wrong{background-color:#f8d7da}
.word{font-size:1.6rem;margin:20px 0;font-weight:600}
.feedback{font-size:1.1rem;margin:10px 0;min-height:1.2em}
.controls{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:center;margin-bottom:25px}
.controls label{display:flex;align-items:center;gap:6px;margin:5px 8px}
.functions{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin:30px 0 10px}
.kachel{flex:1 1 300px;max-width:360px;background:linear-gradient(145deg,#fff,#f0f4ff);border-radius:14px;box-shadow:0 3px 6px rgba(0,0,0,.08);padding:16px;text-align:center;font-size:1.1rem;cursor:pointer;transition:all .25s ease;border:1px solid #dce3ef}
.kachel:hover{background:linear-gradient(145deg,#e7f1ff,#ffffff);transform:translateY(-2px);box-shadow:0 6px 12px rgba(0,0,0,.12)}
.feedback-settings{background:#f1f3f6;border-radius:12px;padding:12px 20px;margin:25px auto;max-width:600px;box-shadow:0 2px 5px rgba(0,0,0,.08);display:flex;flex-wrap:wrap;justify-content:center;gap:15px;align-items:center}
.progress{margin-top:10px;font-weight:600;font-size:1.05rem;min-height:1.2em}
#cardButtons{display:flex;gap:12px;justify-content:center;align-items:center;margin-top:15px}
#rightBtn{background:#2ECC71;color:#fff}
#wrongBtn{background:#E74C3C;color:#fff}
#skipBtn{background:#bdc3c7;color:#000}
.footer{margin-top:30px;font-size:.95rem;color:#555}
a.linkbtn{display:inline-block;padding:10px 16px;border-radius:8px;background:#74b9ff;color:#000;text-decoration:none;font-weight:600}
a.linkbtn:hover{background:#a6d4ff}
#datasourceStatus{position:fixed;right:12px;bottom:10px;font-size:.8rem;opacity:.75;color:#555;pointer-events:none}
#lastAddedBox{margin-top:25px;border-top:2px solid #ddd;padding-top:15px;text-align:center}
#lastAddedBox h3{margin-bottom:8px}
#lastAddedList div{margin:3px 0}
</style>
</head><body>
<div class="app">
<h1>ğŸ¯ Vokabeltrainer</h1>
<div class="controls">
<label>Kategorie:<select id="category"><option value="Alle">Alle (bunt gemischt)</option></select></label>
<label>Modus:<select id="mode"><option value="toGerman">Englisch â†’ Deutsch</option><option value="toEnglish">Deutsch â†’ Englisch</option><option value="mixed">Gemischt</option></select></label>
</div>
<div class="functions">
  <div class="kachel" id="learnBtn">âœï¸ Vokabel-Abfrage starten</div>
  <div class="kachel" id="last30Btn">ğŸ“š Letzte 30 Vokabeln</div>
  <div class="kachel" id="cardsBtn">ğŸ§  Karteikarten starten</div>
</div>
<div class="feedback-settings">
<label><input type="checkbox" id="feedbackToggle" checked> Sofortiges Feedback anzeigen</label>
<label>Toast-Dauer:<select id="toastTime"><option value="500">0,5 s</option><option value="1000" selected>1 s</option><option value="2000">2 s</option><option value="3000">3 s</option><option value="5000">5 s</option></select></label>
</div>
<div class="progress" id="progress" style="display:none"></div>
<div id="trainer" style="display:none">
<div class="card" id="card">
<div id="word" class="word"></div>
<input id="answerInput" type="text" placeholder="Ãœbersetzung eingeben..." style="display:none">
<div id="feedback" class="feedback"></div>
<div id="cardButtons">
<button id="rightBtn" style="display:none">Richtig</button>
<button id="wrongBtn" style="display:none">Falsch</button>
<button id="skipBtn" style="display:none">Ãœberspringen</button>
</div>
</div>
<button id="restartBtn" style="margin-top:10px">ğŸ”„ Neustart</button>
</div>
<div id="result" style="display:none" class="card"></div>
<div class="footer">
<a href="vokabeln.html" class="linkbtn">ğŸ“˜ VokabelÃ¼bersicht Ã¶ffnen</a><br><br>
<small>Â© 2025 @Beefi</small>
<div id="lastAddedBox"><h3>ğŸ†• Zuletzt hinzugefÃ¼gt</h3><div id="lastAddedList">â€“</div></div>
</div></div>
<div id="datasourceStatus">ğŸ’¾ Datenquelle: Lokaler Speicher</div>
<script>
(()=>{const C={"Gelb":"Grundwerkzeuge Metallverarbeitung","Pink":"Werkzeugkasten Mechaniker","Blau":"Blech- / Kunststoffarbeiten","Gruen":"Drehen / FrÃ¤sen","HellesPink":"Hydraulik / Pneumatik","Orange":"Elektrotechnik","Dunkelgruen":"FluggerÃ¤temechanik allgemein","Rot":"Verwechslungsgefahr"},M={"Gelb":"#F4D03F","Pink":"#E91E63","Blau":"#1976D2","Gruen":"#1E8449","HellesPink":"#F54927","Orange":"#E67E22","Dunkelgruen":"#117A65","Rot":"#C0392B"};const status=document.getElementById("datasourceStatus");async function sync(){try{const r=await fetch("https://beeferino.github.io/vokabeltrainer/vokabeln.json",{cache:"no-store"});if(!r.ok)throw new Error;const d=await r.json();localStorage.setItem("vokabeln",JSON.stringify(d));localStorage.setItem("vokabeln_updated",new Date().toISOString());status.textContent="ğŸŒ Datenquelle: GitHub (Online)"}catch{status.textContent="ğŸ’¾ Datenquelle: Lokaler Speicher"}};const S=e=>JSON.parse(localStorage.getItem(e)||"[]"),G=e=>{localStorage.setItem("vokabeln",JSON.stringify(e));localStorage.setItem("vokabeln_updated",new Date().toISOString())};const cat=document.getElementById("category");for(const k in C){const o=document.createElement("option");o.value=k;o.textContent=" "+C[k];o.style.backgroundColor=M[k];o.style.color="#fff";cat.appendChild(o)};const mSel=document.getElementById("mode"),fT=document.getElementById("feedbackToggle"),tT=document.getElementById("toastTime"),learn=document.getElementById("learnBtn"),cards=document.getElementById("cardsBtn"),last30=document.getElementById("last30Btn"),restart=document.getElementById("restartBtn"),word=document.getElementById("word"),feedback=document.getElementById("feedback"),right=document.getElementById("rightBtn"),wrong=document.getElementById("wrongBtn"),skip=document.getElementById("skipBtn"),progress=document.getElementById("progress"),trainer=document.getElementById("trainer"),result=document.getElementById("result"),ans=document.getElementById("answerInput"),card=document.getElementById("card");let list=[],round=[],i=0,errors=[],skipped=[],mode="mixed",game="learn",curr="",trap=!1;function flash(c){if(!fT.checked)return;card.classList.add(c);setTimeout(()=>card.classList.remove(c),400)}function updateProg(){progress.style.display="block";progress.textContent=`Vokabel ${i+1}/${round.length} | Fehler: ${errors.length}`}function start(selected,type,custom=null){list=S("vokabeln");if(!list.length)return alert("Keine Vokabeln gefunden.");mode=selected;game=type;let f=(cat.value==="Alle"?list:list.filter(v=>v[2]===cat.value));if(custom)f=custom;round=f.slice(0,15);i=0;errors=[];skipped=[];trainer.style.display="block";result.style.display="none";showNext()}function showNext(){if(i>=round.length){if(skipped.length){round=skipped;skipped=[];i=0;feedback.textContent="ğŸ“˜ Jetzt die Ã¼bersprungenen Vokabeln!";updateProg();showNext();return}trainer.style.display="none";progress.style.display="none";let h="<h3>Runde beendet</h3>";h+=errors.length?`<p>${errors.length} Fehler:</p><ul>${errors.map(([q,a])=>`<li>${q} â†’ ${a}</li>`).join("")}</ul>`:"<p>Keine Fehler ğŸ‰</p>";h+='<button onclick="location.reload()">ğŸ”„ Neue Runde</button>';result.innerHTML=h;result.style.display="block";return}updateProg();const [en,de,cat]=round[i];let ask,answ;if(mode==="toGerman"){ask=en;answ=de}else if(mode==="toEnglish"){ask=de;answ=en}else{if(Math.random()<.5){ask=en;answ=de}else{ask=de;answ=en}}const c=M[cat]||"#ccc";word.innerHTML=`<div style='display:inline-block;padding:6px 12px;border-radius:12px;background:${c};color:#fff;'>${C[cat]}</div><br><br><b>${ask}</b>`;feedback.textContent="";if(game==="learn"){ans.style.display="inline-block";right.style.display="none";wrong.style.display="none";skip.style.display="inline-block";ans.value="";ans.focus();ans.onkeydown=e=>{if(e.key==="Enter"){const ok=ans.value.trim().toLowerCase()===answ.toLowerCase();if(fT.checked){feedback.textContent=ok?"âœ… Richtig!":`âŒ Falsch! Richtige Antwort: ${answ}`;flash(ok?"correct":"wrong")}if(!ok)errors.push([ask,answ]);i++;setTimeout(showNext,fT.checked?parseInt(tT.value):0)}};skip.onclick=()=>{skipped.push([en,de,cat]);i++;showNext()}}else{ans.style.display="none";right.style.display="inline-block";wrong.style.display="inline-block";skip.style.display="inline-block";trap=Math.random()<.3;curr=trap?getWrong(answ):answ;card.style.background=trap?"#f3f3f3":"#fff";feedback.innerHTML=`ğŸ’¡ <b>${curr}</b>`;const parent=document.getElementById("cardButtons");if(Math.random()<.5)parent.insertBefore(wrong,right);else parent.insertBefore(right,wrong);right.onclick=()=>{const ok=!trap;if(fT.checked){feedback.textContent=ok?"âœ… Richtig!":"âŒ Falsch!";flash(ok?"correct":"wrong")}if(!ok)errors.push([ask,answ]);i++;setTimeout(showNext,fT.checked?500:0)};wrong.onclick=()=>{const ok=trap;if(fT.checked){feedback.textContent=ok?"âœ… Richtig!":"âŒ Falsch!";flash(ok?"correct":"wrong")}if(!ok)errors.push([ask,answ]);i++;setTimeout(showNext,fT.checked?500:0)};skip.onclick=()=>{skipped.push([en,de,cat]);i++;showNext()}}}
function getWrong(c){let p=list.map(v=>v[1]);let w;do{w=p[Math.floor(Math.random()*p.length)]}while(w===c);return w}
learn.onclick=()=>start(mSel.value,"learn");
cards.onclick=()=>start(mSel.value,"cards");
last30.onclick=()=>{const a=S("vokabeln");if(!a.length)return alert("Keine Vokabeln.");const l=a.slice(-30);if(confirm("ğŸ“š Letzte 30 Vokabeln:\nOK = Karteikarten\nAbbrechen = Eingabe"))start(mSel.value,confirm?"cards":"learn",l)};
restart.onclick=()=>location.reload();
function lastAdded(){const d=document.getElementById("lastAddedList"),a=S("vokabeln");if(!a.length)return d.textContent="Keine Vokabeln.";const l=a.slice(-5).reverse();d.innerHTML=l.map(v=>`<div><b>${v[0]}</b> â€“ ${v[1]} <span style='color:${M[v[2]]}'>(${C[v[2]]])</span></div>`).join("")}
sync().then(()=>{list=S("vokabeln");lastAdded()});
})();
</script>
</body></html>
