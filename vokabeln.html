<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Vokabel√ºbersicht ‚Äì Beeferino</title>
<style>
:root{
  --blue:#2563eb;--blue2:#1d4ed8;--ink:#0f172a;
  --glass:rgba(255,255,255,.88);
  --ok:#22c55e;--bad:#ef4444;--muted:#9ca3af;
}
body{
  margin:0;font-family:Inter,system-ui,sans-serif;
  background:linear-gradient(145deg,#eef4ff,#dbeafe);
  color:var(--ink);
}
.app{
  max-width:1000px;margin:32px auto;padding:22px;
  background:var(--glass);border-radius:22px;
  box-shadow:0 10px 32px rgba(0,0,0,.10);
  backdrop-filter:blur(8px)
}
h1{text-align:center;font-size:2rem;font-weight:800;color:#1e3a8a;margin-bottom:10px}
h2{color:#1e3a8a;margin-top:32px}
.section{margin-bottom:22px}
.flex{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
input,select,button{
  font-family:inherit;font-size:1rem;border-radius:10px;
  padding:8px 10px;border:1px solid #d1d5db
}
button{cursor:pointer;font-weight:700;transition:all .2s ease;}
button:hover{transform:translateY(-1px)}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid #e5e7eb;padding:8px 6px;text-align:left}
th{background:#f1f5ff;font-weight:700}
tr:hover{background:#f9fbff}
.pagination{text-align:center;margin-top:10px}
.divider{
  height:3px;width:60%;margin:40px auto 20px;
  background:linear-gradient(90deg,transparent,#93c5fd,#2563eb,#93c5fd,transparent);
  border-radius:2px;animation:shine 5s linear infinite
}
@keyframes shine{0%{background-position:0 0}100%{background-position:400px 0}}
#toast{
  position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
  background:#22c55e;color:#fff;padding:10px 20px;border-radius:12px;
  display:none;font-weight:700;box-shadow:0 6px 20px rgba(0,0,0,.2)
}
.footer{
  display:flex;justify-content:space-between;align-items:center;
  margin-top:40px;flex-wrap:wrap;gap:10px
}
.link-trainer{
  border:none;padding:10px 18px;border-radius:14px;
  font-weight:700;color:#fff;background:linear-gradient(90deg,#2563eb,#1d4ed8);
  box-shadow:0 6px 18px rgba(37,99,235,.3);cursor:pointer;
  transition:background 0.3s ease,transform 0.2s ease;
}
.link-trainer:hover{
  background:linear-gradient(90deg,#1d4ed8,#2563eb);
  transform:translateY(-2px);
}
.src{text-align:center;flex:1 1 100%;margin-top:8px;color:#6b7280;font-size:.9rem}

/* Sortierchips */
.sort-chips{
  display:flex;flex-wrap:wrap;gap:8px;margin:10px 0;
  justify-content:center;
}
.sort-chip{
  padding:6px 14px;border-radius:999px;background:#e0e7ff;
  color:#1e3a8a;font-weight:700;font-size:.9rem;
  cursor:pointer;transition:all .2s ease;
  box-shadow:0 2px 6px rgba(37,99,235,.15);
}
.sort-chip:hover{background:#c7d2fe;transform:translateY(-1px)}
.sort-chip.active{background:#2563eb;color:#fff;box-shadow:0 3px 8px rgba(37,99,235,.35)}

/* Mobile Karten */
#mobileList{display:none}
@media (max-width:768px){
  .app{margin:0;border-radius:0;padding:14px;box-shadow:none;}
  table{display:none;}
  #mobileList{display:block;margin-top:12px;}
  .mobile-card{
    background:rgba(255,255,255,0.95);
    border-radius:14px;box-shadow:0 4px 12px rgba(0,0,0,.08);
    padding:12px 16px;margin-bottom:12px;
    border-left:6px solid var(--cat-color);
    opacity:0;transform:translateY(15px);
    animation:slideIn .4s forwards;
  }
  @keyframes slideIn{to{opacity:1;transform:translateY(0);}}
  .mobile-card h4{margin:0;font-size:1.05rem;font-weight:700;color:#1e3a8a;}
  .mobile-card p{margin:3px 0;font-size:.95rem;color:#111;}
  .mobile-card small{display:block;margin-top:3px;font-size:.85rem;color:#555;opacity:.9;}
  .mobile-card button{
    margin-top:8px;width:100%;border:none;border-radius:10px;
    background:linear-gradient(90deg,#2563eb,#1d4ed8);color:#fff;
    padding:8px;font-weight:700;box-shadow:0 4px 10px rgba(37,99,235,.25);
  }
  .mobile-card button.delete{
    background:linear-gradient(90deg,#ef4444,#dc2626);
    box-shadow:0 4px 10px rgba(239,68,68,.25);
  }
  .mobile-card button:hover{transform:scale(1.02)}
}
</style>
</head>
<body>
<div class="app">
  <h1>üìò Vokabel√ºbersicht</h1>

  <div class="section">
    <h2>üîç Filter &amp; Suche</h2>
    <div class="flex">
      <label>Kategorie:
        <select id="filterCat"><option value="Alle">Alle (bunt gemischt)</option></select>
      </label>
      <input id="searchInput" type="text" placeholder="üîé Suchen (EN / DE)">
      <button id="resetFilter">üîÑ Zur√ºcksetzen</button>
    </div>
  </div>

  <div class="section">
    <h2>üìÑ Vokabelliste</h2>
    <div class="sort-chips">
      <div class="sort-chip active" data-sort="az">A‚ÄìZ (Englisch)</div>
      <div class="sort-chip" data-sort="za">Z‚ÄìA</div>
      <div class="sort-chip" data-sort="cat">Kategorie</div>
      <div class="sort-chip" data-sort="date">Neueste</div>
    </div>

    <table id="vokabelTable">
      <thead><tr><th>Englisch</th><th>Deutsch</th><th>Kategorie</th><th>Aktion</th></tr></thead>
      <tbody></tbody>
    </table>
    <div id="mobileList"></div>
  </div>

  <div class="section">
    <h2>‚ûï Neue Vokabel hinzuf√ºgen</h2>
    <div class="flex">
      <input id="newEn" type="text" placeholder="Englisch">
      <input id="newDe" type="text" placeholder="Deutsch">
      <select id="newCat"></select>
      <input id="newGroup" type="text" placeholder="Gruppe / Variante">
      <input id="newHint" type="text" placeholder="Hinweis">
      <button id="addBtn">Hinzuf√ºgen</button>
    </div>
  </div>

  <div class="divider"></div>

  <div class="footer">
    <button class="link-trainer" id="btnBack">‚¨ÖÔ∏è Zur√ºck zum Trainer</button>
    <button id="btnCommit" class="link-trainer">üì§ In Datenbank eintragen</button>
    <div class="src">¬© 2025 Beeferino</div>
  </div>
</div>

<div id="toast">Gespeichert</div>

<script>
const CATS={
  Gelb:["Grundwerkzeuge Metallverarbeitung","#F4D03F","#000"],
  Pink:["Werkzeugkasten Mechaniker","#E91E63","#fff"],
  Blau:["Blech- / Kunststoffarbeiten","#1976D2","#fff"],
  Gruen:["Drehen / Fr√§sen","#1E8449","#fff"],
  HellesPink:["Hydraulik / Pneumatik","#F54927","#fff"],
  Orange:["Elektrotechnik","#E67E22","#fff"],
  Dunkelgruen:["Flugger√§temechanik allgemein","#117A65","#fff"],
  Rot:["Verwechslungsgefahr","#C0392B","#fff"]
};
const el=id=>document.getElementById(id);
const toast=t=>{const x=el("toast");x.textContent=t;x.style.display="block";setTimeout(()=>x.style.display="none",2000);};
let list=[];let sortMode="az";

for(const k in CATS){
  let o=document.createElement("option");
  o.value=k;o.textContent=CATS[k][0];
  o.style.background=CATS[k][1];o.style.color=CATS[k][2];
  el("filterCat").appendChild(o);
  el("newCat").appendChild(o.cloneNode(true));
}

function saveLocal(){localStorage.setItem("vokabeln",JSON.stringify(list));}
function loadLocal(){return JSON.parse(localStorage.getItem("vokabeln")||"[]");}
function dedup(arr){return Array.from(new Map(arr.map(v=>[v[0]+v[1],v])).values());}

async function loadGitHub(){
  try{
    const r=await fetch("https://beeferino.github.io/vokabeltrainer/vokabeln.json",{cache:"no-store"});
    const d=await r.json();list=dedup([...d,...loadLocal()]);render();
  }catch{list=loadLocal();render();}
}

function render(){
  const q=el("searchInput").value.toLowerCase();
  const f=el("filterCat").value;
  let shown=list.filter(v=>(f==="Alle"||v[2]===f)&&(v[0].toLowerCase().includes(q)||v[1].toLowerCase().includes(q)));

  // Sortierung
  shown.sort((a,b)=>{
    switch(sortMode){
      case "az": return a[0].localeCompare(b[0]);
      case "za": return b[0].localeCompare(a[0]);
      case "cat": return a[2].localeCompare(b[2]);
      case "date": return list.indexOf(b)-list.indexOf(a);
    }
  });

  // Desktop-Tabelle
  const t=el("vokabelTable").querySelector("tbody");
  t.innerHTML=shown.map((v,i)=>{
    const c=CATS[v[2]]||["","#ddd","#000"];
    return `<tr><td>${v[0]}</td><td>${v[1]}</td>
      <td style="color:${c[2]};font-weight:700;">${c[0]}</td>
      <td><button onclick="del(${i})" style='background:#ef4444;color:#fff;border:none;padding:4px 10px;border-radius:8px;'>üóëÔ∏è</button></td></tr>`;
  }).join("")||"<tr><td colspan=4>Keine Ergebnisse</td></tr>";

  // Mobile
  const mob=el("mobileList");
  if(window.innerWidth<=768){
    mob.innerHTML=shown.map((v,i)=>{
      const c=CATS[v[2]]||["","#ddd","#000"];
      return `<div class="mobile-card" style="--cat-color:${c[1]}">
        <h4>${v[0]}</h4><p>${v[1]}</p><small>${c[0]}</small>
        <button class="delete" onclick="del(${i})">üóëÔ∏è L√∂schen</button>
      </div>`;
    }).join("")||"<p>Keine Ergebnisse</p>";
  } else mob.innerHTML="";
}

function del(i){
  if(!confirm("Wirklich l√∂schen?"))return;
  list.splice(i,1);saveLocal();render();toast("‚ùå Gel√∂scht");
}

el("addBtn").onclick=()=>{
  const en=el("newEn").value.trim(),de=el("newDe").value.trim(),cat=el("newCat").value;
  if(!en||!de)return alert("Bitte Englisch und Deutsch angeben");
  list.push([en,de,cat]);
  saveLocal();render();toast("‚ûï Hinzugef√ºgt");
  el("newEn").value=el("newDe").value="";
};
el("filterCat").onchange=render;
el("searchInput").oninput=render;
el("resetFilter").onclick=()=>{el("filterCat").value="Alle";el("searchInput").value="";render();};
el("btnBack").onclick=()=>location.href="index.html";
el("btnCommit").onclick=()=>toast("üì§ In Datenbank eingetragen (Demo)");

document.querySelectorAll(".sort-chip").forEach(ch=>{
  ch.onclick=()=>{document.querySelectorAll(".sort-chip").forEach(x=>x.classList.remove("active"));
  ch.classList.add("active");sortMode=ch.dataset.sort;render();}
});
loadGitHub();
</script>
</body>
</html>
