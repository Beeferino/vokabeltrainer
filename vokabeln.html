<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Vokabeln ‚Äì Beeferino</title>
<style>
:root{
  --blue:#2563eb;--ink:#0f172a;
  --ok:#22c55e;--bad:#ef4444;--muted:#9ca3af;
  --glass:rgba(255,255,255,.92)
}
body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  background:linear-gradient(145deg,#eef4ff,#dbeafe);
  color:var(--ink)
}
.app{
  max-width:960px;margin:32px auto;padding:22px;
  background:var(--glass);border-radius:22px;
  box-shadow:0 10px 32px rgba(0,0,0,.10);
  backdrop-filter:blur(8px)
}
h1{text-align:center;margin:0;font-size:2rem;color:#1e3a8a;font-weight:800}
.hr{width:160px;height:4px;background:var(--blue);border-radius:4px;margin:10px auto 20px}
.actions{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;margin-bottom:14px}
button{
  border:none;padding:10px 16px;border-radius:12px;
  font-weight:700;cursor:pointer
}
button.primary{background:var(--blue);color:#fff}
button.secondary{background:#eaf0ff;color:#1f2937}
table{
  width:100%;border-collapse:collapse;margin-top:12px
}
th,td{
  border-bottom:1px solid #e5e7eb;padding:8px 10px;text-align:left
}
th{background:#f1f5f9;font-weight:700}
tbody tr:hover{background:#f9fafb}
input,select{
  border:1px solid #d1d5db;border-radius:10px;padding:6px 10px;font-size:1rem
}
.footer{
  text-align:center;margin-top:22px;color:#6b7280;font-size:.92rem
}

/* --- Floating Add Button --- */
#addMobile{
  position:fixed;bottom:24px;right:24px;
  background:var(--blue);color:#fff;
  border:none;border-radius:50%;
  width:64px;height:64px;font-size:2rem;
  display:none;align-items:center;justify-content:center;
  box-shadow:0 8px 22px rgba(37,99,235,.4);
  transition:transform .2s ease,box-shadow .2s ease;
  z-index:1001;
}
#addMobile:hover{transform:scale(1.05);box-shadow:0 10px 26px rgba(37,99,235,.5)}

/* --- Slide-Up Popup --- */
#popup{
  position:fixed;bottom:-100%;left:0;right:0;
  background:rgba(255,255,255,.92);
  backdrop-filter:blur(12px);
  border-top-left-radius:24px;border-top-right-radius:24px;
  box-shadow:0 -6px 28px rgba(0,0,0,.25);
  transition:bottom .4s ease;
  z-index:1000;padding:24px;
}
#popup.show{bottom:0}
#popup h2{text-align:center;margin-top:0;color:#1e3a8a}
#popup input,#popup select{
  width:100%;margin-bottom:10px;padding:10px;
  border:1px solid #d1d5db;border-radius:12px;font-size:1rem
}
#popup .btnrow{display:flex;justify-content:space-between;gap:10px}
#toast{
  position:fixed;bottom:-50px;left:50%;transform:translateX(-50%);
  background:var(--ok);color:#fff;padding:10px 18px;border-radius:12px;
  font-weight:700;transition:bottom .4s ease;z-index:1002;
}
#toast.show{bottom:30px}

/* Mobile adjustments */
@media(max-width:700px){
  .app{margin:16px;padding:16px}
  #addMobile{display:flex}
  .desktopOnly{display:none}
}
</style>
</head>
<body>
<div class="app">
  <h1>üìò Vokabeln</h1>
  <div class="hr"></div>

  <div class="actions desktopOnly">
    <div>
      <button id="sortABC" class="secondary">üî§ Sortieren A‚ÄìZ</button>
      <button id="btnEdit" class="secondary">‚úèÔ∏è Bearbeiten</button>
    </div>
    <div>
      <input id="search" type="text" placeholder="Suchen ‚Ä¶">
      <button id="reset" class="secondary">Zur√ºcksetzen</button>
    </div>
  </div>

  <table id="tbl" class="desktopOnly">
    <thead><tr><th>Englisch</th><th>Deutsch</th><th>Kategorie</th><th>Aktionen</th></tr></thead>
    <tbody></tbody>
  </table>

  <div class="footer">¬© 2025 Beeferino ‚Ä¢ Datenquelle: GitHub</div>
</div>

<!-- Floating Add Button -->
<button id="addMobile">‚ûï</button>

<!-- Slide-Up Popup -->
<div id="popup">
  <h2>Neue Vokabel</h2>
  <input id="en" type="text" placeholder="Englisch">
  <input id="de" type="text" placeholder="Deutsch">
  <select id="cat">
    <option value="Gelb">Grundwerkzeuge Metallverarbeitung</option>
    <option value="Pink">Werkzeugkasten Mechaniker</option>
    <option value="Blau">Blech-/Kunststoffarbeiten</option>
    <option value="Gruen">Drehen / Fr√§sen</option>
    <option value="HellesPink">Hydraulik / Pneumatik</option>
    <option value="Orange">Elektrotechnik</option>
    <option value="Dunkelgruen">Flugger√§temechanik allgemein</option>
    <option value="Rot">Verwechslungsgefahr</option>
  </select>
  <input id="group" type="text" placeholder="Gruppe / Variante (optional)">
  <input id="note" type="text" placeholder="Hinweis (optional)">
  <div class="btnrow">
    <button id="cancel" class="secondary">Abbrechen</button>
    <button id="save" class="primary">Speichern</button>
  </div>
</div>

<div id="toast">Gespeichert!</div>

<script>
const tbl=document.querySelector("#tbl tbody");
const popup=document.getElementById("popup");
const btnAdd=document.getElementById("addMobile");
const btnCancel=document.getElementById("cancel");
const btnSave=document.getElementById("save");
const toast=document.getElementById("toast");
const btnEdit=document.getElementById("btnEdit");
let editMode=false,vokabeln=[];

/* --- Daten laden --- */
async function load(){
  try{
    const r=await fetch("https://beeferino.github.io/vokabeltrainer/vokabeln.json",{cache:"no-store"});
    vokabeln=await r.json();
  }catch{
    vokabeln=JSON.parse(localStorage.getItem("vokabeln")||"[]");
  }
  render();
}

/* --- Tabelle rendern --- */
function render(){
  tbl.innerHTML="";
  vokabeln.forEach((v,i)=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`
      <td>${v[0]}</td>
      <td>${v[1]}</td>
      <td>${v[2]}</td>
      <td>${editMode?`<button class='secondary del' data-i='${i}'>üóëÔ∏è</button>`:""}</td>`;
    tbl.appendChild(tr);
  });
  document.querySelectorAll(".del").forEach(b=>b.onclick=()=>{vokabeln.splice(b.dataset.i,1);saveLocal();render();});
}

/* --- Lokal speichern --- */
function saveLocal(){
  localStorage.setItem("vokabeln",JSON.stringify(vokabeln));
}

/* --- Toast anzeigen --- */
function showToast(){
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),1200);
}

/* --- Popup √∂ffnen/schlie√üen --- */
btnAdd.onclick=()=>popup.classList.add("show");
btnCancel.onclick=()=>popup.classList.remove("show");

/* --- Speichern --- */
btnSave.onclick=()=>{
  const en=document.getElementById("en").value.trim();
  const de=document.getElementById("de").value.trim();
  const cat=document.getElementById("cat").value;
  if(!en||!de)return alert("Bitte Englisch und Deutsch eingeben.");
  vokabeln.push([en,de,cat]);
  saveLocal();render();popup.classList.remove("show");showToast();
};

/* --- Edit Mode --- */
btnEdit.onclick=()=>{
  editMode=!editMode;
  btnEdit.textContent=editMode?"‚úÖ Fertig":"‚úèÔ∏è Bearbeiten";
  render();
};

load();
</script>
</body>
</html>
